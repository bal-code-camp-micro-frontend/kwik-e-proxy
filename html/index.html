<html>
  <head>
    <title>KWIK-E-MART</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://www.unpkg.com/materialize-css@1.0.0/dist/css/materialize.min.css"
      type="text/css"
      rel="stylesheet"
      media="screen,projection"
    />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/single-spa/5.6.0/umd/single-spa.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/single-spa-html"></script>
    <script src="/l/js/pages.js" type="module"/>
  </head>
  <body>
    <div id="app-inspire"></div>
    <div id="app-decide"></div>
    <div id="app-checkout"></div>

    <script type="module">
      const webComponentApp = window.singleSpaHtml.default({
        template: props => `<l-pages></l-pages>`,
      });

      singleSpa.registerApplication({
              name: "list",
              app: webComponentApp,
              activeWhen: ({ pathname }) => pathname === "/"
      });
      singleSpa.registerApplication(
              "detail",
              () => import("/d/js/pages.js"),
              ({ pathname }) => pathname.startsWith("/product/")
      );
      singleSpa.registerApplication(
              "checkout",
              () => import("/c/js/pages.js"),
              ({ pathname }) => pathname.startsWith("/checkout/")
      );

      singleSpa.start();
    </script>
  </body>
</html>
